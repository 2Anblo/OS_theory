6.1 资源
资源类型：
	可剥夺型资源
		CPU/内存（进程挂起到外存）
	不可剥夺型资源
		常常与死锁有关

6.2死锁简介
一组进程相互等待导致死锁。（系统死锁）

死锁的两个起因：
	1.对互斥资源的分配不当
	2.并发执行的顺序不当

资源分配图（有向图）：
有向图中方形代表资源，圆形代表进程。

死锁的四个必要条件：
1.互斥
2.占有并等待
3.不可剥夺型资源
4.环路等待状况

6.3死锁预防
1.打破互斥（基本不可行）
将所有设备都使用Spooling技术
2.打破占有并等待
采用资源静态分配法（一次性分配所有资源），降低系统效率
3.打破不可剥夺
绝对不可行
4.打破循环等待
资源有序分配法

6.4死锁避免
资源运行轨迹图可以分析安全状态和不安全状态
安全状态：有确定序列让所有操作顺利执行完。

银行家算法被用于避免死锁，不安全则不分配。

6.5死锁检测与恢复
当每种资源只有一个时：
	通过深度优先遍历检测有向图内是否有环路。（有向图法）
当每种资源有多个时：
	对可用资源序列做安全性检测，类似银行家算法（矩阵法）

恢复方法：
1.剥夺法
从其他进程剥夺资源。
2.回退法
让系统回到上一次安全状态。
3.杀死进程法
杀死循环等待队列中的某一进程。

6.6鸵鸟算法
前提：死锁出现概率不大，但引入预防机制开销大。
忽略死锁的发生。
